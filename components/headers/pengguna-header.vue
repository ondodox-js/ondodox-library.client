<template>
  <header
    class="sticky top-0 flex justify-between z-10 p-2 items-center bg-amber-300"
  >
    <nuxt-link to="/pengguna" class="text-4xl font-bold">Ondodox</nuxt-link>
    <div class="flex gap-4 items-center cursor-pointer">
      <nuxt-link :to="{ name: 'pengguna-keranjang' }">
        <div class="pr-4 relative">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25.67"
            height="33.388"
            viewBox="0 0 25.67 33.388"
          >
            <g
              id="Group_1277"
              data-name="Group 1277"
              transform="translate(-75.405 -209.611)"
            >
              <path
                id="Path_1241"
                data-name="Path 1241"
                d="M8348.193,2726.388h-19.736a2.885,2.885,0,0,1-1.889-1.248,5.584,5.584,0,0,1-.412-.964c-.049-.138-.105-.3-.165-.447v-23.413a.3.3,0,0,1,.013-.04l.006-.02,0,0c.012-.038.023-.077.032-.116a2.747,2.747,0,0,1,1.942-2.2,4.146,4.146,0,0,1,1.272-.165c.177,0,.355.005.529.01h.015c.174.005.359.01.543.01.142,0,.27,0,.39-.009,0,.051,0,.1,0,.15s0,.1,0,.149v.009c0,.179,0,.348,0,.517a2.857,2.857,0,0,0,2.963,2.975c1.675,0,3.254.006,4.827.006s3.063,0,4.437-.006a2.851,2.851,0,0,0,2.954-2.953c0-.174,0-.366,0-.605v-.2h.1c.2,0,.395,0,.569,0s.423,0,.642,0c.377,0,.682.006.96.018a2.177,2.177,0,0,1,.841.237,2.807,2.807,0,0,1,1.635,2.7c0,1.384,0,2.8,0,4.16v2.483q0,7.906,0,15.814a2.959,2.959,0,0,1-1.176,2.534,4.022,4.022,0,0,1-.879.443c-.13.053-.276.113-.413.176Zm-17.481-7.718a.943.943,0,0,0-.865,1.253.99.99,0,0,0,.274,1.064c.681.694,1.249,1.262,1.787,1.79a.938.938,0,0,0,1.449,0c1.221-1.211,2.462-2.452,3.688-3.688a.977.977,0,0,0,.271-1.055.946.946,0,0,0-.865-1.259,1.087,1.087,0,0,0-.753.34c-.767.758-1.591,1.582-2.595,2.593-.1.1-.2.221-.283.325-.041.05-.084.1-.127.151l-.081-.052-.006,0a.053.053,0,0,1-.021-.012c-.142-.14-.284-.28-.425-.42-.2-.193-.45-.446-.7-.69A1.1,1.1,0,0,0,8330.712,2718.67Zm12.339,2.542h2.752a1.12,1.12,0,0,0,.807-.305.9.9,0,0,0,.252-.658,1,1,0,0,0-.053-.308.965.965,0,0,0,.053-.337.954.954,0,0,0-1.055-.934l-2.736,0-2.733,0a1.116,1.116,0,0,0-.807.3.9.9,0,0,0-.253.659.918.918,0,0,0,.052.307.961.961,0,0,0,1,1.274h2.719Zm-12.3-9.188a.99.99,0,0,0-.22.026.928.928,0,0,0-.681,1.231.989.989,0,0,0,.242,1.029c.439.458.9.915,1.346,1.357l.02.019.373.371a.985.985,0,0,0,1.607,0c1.041-1.039,2.273-2.271,3.532-3.534l.008-.008,0,0a2.644,2.644,0,0,0,.2-.223.939.939,0,0,0,.134-.894.921.921,0,0,0-.034-.726.952.952,0,0,0-.567-.488.967.967,0,0,0-.3-.05,1.056,1.056,0,0,0-.752.37c-.7.707-1.388,1.4-2.115,2.128l-.223.223-.693.7-.4-.4-.016-.016c-.266-.27-.516-.525-.771-.781A.974.974,0,0,0,8330.75,2712.025Zm12.32,0-2.721,0a.961.961,0,0,0-1.072.948.984.984,0,0,0,.052.322.949.949,0,0,0-.054.325.964.964,0,0,0,1.074.948h5.438a.964.964,0,0,0,1.073-.948,1.018,1.018,0,0,1,0-.647.961.961,0,0,0-1.072-.948Zm-12.353-6.643a.948.948,0,0,0-.872,1.261.965.965,0,0,0,.254,1.035c.649.668,1.249,1.267,1.832,1.833a1.011,1.011,0,0,0,.7.321,1,1,0,0,0,.7-.321c1.282-1.269,2.538-2.525,3.733-3.734a.952.952,0,0,0,.251-1.03.916.916,0,0,0-.214-.976.926.926,0,0,0-.66-.289,1.039,1.039,0,0,0-.721.319c-.685.671-1.371,1.362-2.035,2.03l-.055.054-.237.239c-.153.153-.3.312-.458.48l-.021.024-.275.294-.156-.161c-.069-.071-.137-.14-.2-.209-.274-.284-.558-.577-.847-.856A1.043,1.043,0,0,0,8330.718,2705.381Zm10.55,0h-.918a.962.962,0,0,0-1.072.949,1.022,1.022,0,0,0,.051.322.983.983,0,0,0-.053.325.964.964,0,0,0,1.074.948h5.438a.964.964,0,0,0,1.073-.948,1.019,1.019,0,0,1,0-.647.965.965,0,0,0-1.072-.949h-4.521Zm-5.23-5.693-2.29,0a.975.975,0,0,1-1.114-1.1c0-.06,0-.12,0-.18,0-.2,0-.406,0-.611a1.9,1.9,0,0,1,1.914-1.9c.252-.006.5-.009.737-.009.256,0,.519,0,.78.01h.021a.276.276,0,0,0,.311-.243,3.54,3.54,0,0,1,.2-.53,1.813,1.813,0,0,1,1.725-1.12h0a1.827,1.827,0,0,1,1.724,1.115l.01.021a.619.619,0,0,1,.03.065,2,2,0,0,1,.068.208l.006.019c.046.163.1.348.212.414a.619.619,0,0,0,.318.066c.071,0,.146-.005.218-.01s.138-.01.21-.01h.68c.113,0,.207,0,.295,0a1.9,1.9,0,0,1,1.919,1.931c.007.258.007.537,0,.853a.949.949,0,0,1-1.011,1.009c-.78,0-1.573,0-2.34,0h-4.629Z"
                transform="translate(-8250.086 -2483.889)"
                stroke="rgba(0,0,0,0)"
                stroke-width="1"
              />
            </g>
          </svg>
          <span class="absolute right-0 top-0 text-xs text-black font-bold">{{
            keranjang
          }}</span>
        </div>
      </nuxt-link>
      <button
        type="button"
        class="font-bold hover:bg-amber-500 px-4 md:text-base text-sm py-2 rounded-lg"
        name="keluar"
        @click="keluar"
      >
        keluar
      </button>
    </div>
  </header>
</template>

<script>
import { mapActions } from "vuex";
export default {
  methods: {
    ...mapActions({
      resetPengguna: "pengguna/reset",
      keluarPengguna: "keluarPengguna",
    }),
    keluar() {
      this.resetPengguna();
      this.keluarPengguna();
    },
  },
  computed: {
    keranjang() {
      const keranjang = this.$store.getters["pengguna/getKeranjang"];
      return keranjang ? keranjang.length : 0;
    },
  },
};
</script>

<style></style>
